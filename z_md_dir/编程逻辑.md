#服务的注册与发现
## 一、环境准备
启动Nacos服务
下载并启动Nacos（官方下载地址）。
默认地址：http://localhost:8848/nacos
在Nacos控制台创建命名空间/配置（可选）
## 二、微服务端集成步骤
1. 添加依赖
以Maven为例，在每个微服务的pom.xml中添加：
Apply to 编程逻辑.md
2. 配置 application.yml
Apply to 编程逻辑.md
3. 启动类加注解
在Spring Boot主类上加上@EnableDiscoveryClient（Spring Cloud 2020+可省略，推荐加上）：
Apply to 编程逻辑.md
4. 启动服务
启动后，服务会自动注册到Nacos。
访问Nacos控制台（http://localhost:8848/nacos），可看到服务已注册。
三、服务发现与调用
1. 通过服务名调用（RestTemplate方式）
在调用方（如order-service）：
Apply to 编程逻辑.md
调用时直接用服务名：
Apply to 编程逻辑.md
2. Feign方式（推荐）
添加依赖：
Apply to 编程逻辑.md
配置：
Apply to 编程逻辑.md
定义接口：
Apply to 编程逻辑.md
使用：
Apply to 编程逻辑.md
四、健康检查与下线
Spring Boot Actuator会自动暴露健康检查接口（/actuator/health）。
服务关闭时会自动从Nacos下线。
五、常见问题
服务名要唯一，且调用时区分大小写。
Nacos地址、端口要配置正确。
多环境可用namespace区分。
六、总结
每个服务都要引入Nacos Discovery依赖，配置服务名和Nacos地址。
服务启动后自动注册到Nacos。
服务间调用用服务名即可，推荐用Feign。
健康检查、下线自动完成。